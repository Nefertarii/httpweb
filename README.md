# httpweb
### 项目背景/Background
在学习完相关知识后，想将其整合，于是想到制作一个有交互功能,且用mysql数据库存储相关数据的web服务器  
用mysql数据库是想在该项目的制作过程中了解不同的软件是怎样合作的  
### 更新日志/新计划:
自己用于测试的服务器网站 http://159.75.51.91/ (仍在完善中 仅在调试时才启动访问)  

### 整体构思
本次打算从http升级成https处理  
对整个代码全部进行重构   
由目标：可在运行中使用命令进行更新/更改设置的多线程程序为主体,进行重构  
其中,打算自行实现：  
- [ ] 内存的分配(可以自动回收垃圾的垃圾回收器)  
- [ ] 字符串的处理(原版本的char* 太难受了，实现一个贴合程序的string类)  

整体功能/模块大致如下：  
* 主程序 (可接受键盘输入调整设置,并能控制所有的会话子进程)
	* 主进程功能：  
	* 根据输入更改设置
	* 控制处理进程的开启/关闭 
* 子进程 (用于对请求进行处理的主要进程，受主程序控制，本身多线程处理会话)  
	* 子进程功能：   
	* 建立连接: 根据tcp协议建立https连接 (可由主进程设置端口号)
	* 接受请求: 在持续连接的基础上处理对端发送的报文
	* 处理请求: 处理对端发送的报文并验证相关信息 (可由主进程设置处理报文所携带信息时的方法)
	* 本地资源处理: 根据处理的请求判断所需资源的合法性
		* 需要访问数据库时：  
		* 数据库的连接
		* 数据库的请求传递
		* 数据库的返回处理
	* 响应构建: 构建http响应和相应json (可由主进程设置常用响应的处理)
	* 返回响应: 返回构建的响应 
	* 日志处理: 从建立连接到返回响应的所有步骤都需要记录

主进程中的可用命令 (待定)  

### 项目的安装及使用/Install & Usage
项目编译使用了 Makefile   
考虑所需mysql服务比较难搭建 该项目将使用两个版本进行本地资源的处理  
普通版在运行 ```make``` 并等待编译完成后 使用```./WebServer``` 即可启动服务

mysql版在自行安装了 mysql8.0.25版本及其connecter/c++ 后  
通过导入相应的数据表并设置程序访问时的用户及密码来完成程序访问数据库的目标  
在完成上方操作后同样运行 ```make``` 并等待编译完成后 使用```./WebServer``` 即可启动服务  

### 项目负责人/Maintainers

[@Nefertarii](https://github.com/Nefertarii)

### License

[MIT](https://github.com/Nefertarii/httpweb/blob/main/LICENSE) © Richard Littauer


